---
title: 输出结果题的坑
date: 2020-09-17 19:00:00
tags:
  - Java笔记
categories:
  - Java
---

# 记录一下做输出结果题的坑吧

## 1. 特别要注意`+`

​	java中**`+`** 除了最普通的加法运算，要特别注意<big>它还能连接字符串</big>

## 2. 注意

```System.out.println('b' + 'c');
System.out.println('b' + 'c');
```

这个结果竟然是**197**，刚开始以为是`bc`，没想到出错了，原因如下：
char 类型在运算的时候，是自动转换为int类型 进行计算的

附上详细的转换规则：

* Boolean类型不参与转换
* 默认转换
  * 从小到大
  * byte、short、char --> int --> long --> float -->double
  * byte、short、shar之间不相互转换，直接转换int参与运算
* 强制转换
  * 从大到小
  * 可能会存在精度损失，一般不建议
  * 格式：`目标数据类型 变量名 =(目标数据类型)(被转换数据)` 

运算时的隐式转换

1. 算术运算符

     1.   单目运算符：+ (取正)   -(取负)  ++(自增)  --(自减)

          \+  - ：当操作数为byte，short，char时，自动转换为int进行计算

          ​			当操作数为int，long时，不转换，原来是啥还是啥

          ++   --: 不管操作数类型，不转换

             		2. 双目运算符：+  -  *  /  %

        当操作数中没有long类型时，两个操作数中的非int类型会自动转换为int参与运算，返回值为int

        当两个操作数中含有lont类型时，两个操作数中的非long类型会自动转换为long参与运算，返回值为long

2. 位运算符

     1.   & | ^

          当两个操作数中没有long类型时，两个操作数中非int类型会先自动转换为int类型，再参与运算，返回结果为int
          当两个操作数中含有long类型时，两个操作数中非long类型会自动转换为long类型，再参与运算，返回结果为long

             		2. ~

        当操作数是byte,short,char时，会自动转化为int类型；返回结果为int。
        当操作数是int,long时，不转化，原来是啥还是啥

      		3. <<   >>  >>>

        当操作数是byte,short,char时，会自动转化为int类型；返回结果为int。
        当操作数是int,long时，不转化，原来是啥还是啥

3. 赋值运算符

      1.    基本赋值运算符 =

            变量 = 变量：小赋大，自动转；大赋小，不自动转换；
            变量 = 常量：不自动类型转换

            			2. 扩展赋值运算符：+=、-=、*=、/=、%=

         展赋值运算符隐含了强制类型转换，即： s += 1  等价于  s = (s的数据类型)(s + 1)

总结：除了自增和自减不进行转化外，其它情况都是无long型时，所有非int类型转成int类型；有long类型时，都转成long类型